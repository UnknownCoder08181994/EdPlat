VisionCardReveal.prototype.animateContentIn=function(){const header=document.querySelector('.vision-header');if(header){header.classList.add('revealed');}
this._later(()=>this.startTypewriter(),800);const animDuration=600;this.cards.forEach((card,i)=>{const delay=10+i*120;this._later(()=>{card.classList.add('summoned');const vid=card.querySelector('.hcard-vid');if(vid){vid.currentTime=0;vid.play();}},delay);this._later(()=>{this.spawnMeshBurst(card);},delay+animDuration*0.35);});this._later(()=>{if(window.neonGridLines)window.neonGridLines.init();},100);this._later(()=>{this.cards.forEach(card=>{card.style.opacity='1';card.style.transform='scale(1) translateY(0)';card.style.animation='none';});},900);};VisionCardReveal.prototype.startTypewriter=function(){};VisionCardReveal.prototype.revealCards=function(){this.rematerializeBackdrop();};VisionCardReveal.prototype.resetPage2=function(){if(this._waveRafId){cancelAnimationFrame(this._waveRafId);this._waveRafId=null;}
if(this._typeRafId){cancelAnimationFrame(this._typeRafId);this._typeRafId=null;}
this._pendingTimers.forEach(id=>clearTimeout(id));this._pendingTimers.length=0;const section=document.getElementById('vision');if(section){section.querySelectorAll('.wave-canvas').forEach(c=>c.remove());}
const header=document.querySelector('.vision-header');if(header)header.classList.remove('revealed');const typedEl=document.querySelector('.hsub-typed');if(typedEl)typedEl.textContent='';this.cards.forEach(card=>{card.classList.remove('summoned');card.style.opacity='';card.style.transform='';card.style.animation='';const vid=card.querySelector('.hcard-vid');if(vid)vid.pause();});if(section)section.classList.remove('h2-grid-ready');if(this.backdrop){const labVid=this.backdrop.querySelector('.h2-lab-video');if(labVid)labVid.pause();this.backdrop.style.opacity='0';this.backdrop.style.clipPath='';this.backdrop.classList.remove('lab-active');}
if(section){const overlay=section.querySelector('.vision-overlay');if(overlay)overlay.style.display='';}
if(this.vid){this.vid.currentTime=0;this.vid.pause();}
this.fired=false;};