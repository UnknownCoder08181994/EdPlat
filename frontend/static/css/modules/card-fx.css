/* ============================================
   MODULES PAGE â€” Agentic FX Layer
   Glitch power-on + text reveal for ALL blocks,
   border circuit + bg shift for cards
   ============================================ */

/* ---- Pure black background ---- */
#modules {
    background: #000 !important;
}

/* ---- Generic block: hidden until JS triggers ---- */
.fx-hidden {
    opacity: 0;
}

/* ---- Generic block: children hidden before text reveal ---- */
.fx-text-hidden > * {
    opacity: 0;
    transform: translateY(4px);
}

/* Card-specific: target inner children */
.course-card.fx-text-hidden .course-card-inner > * {
    opacity: 0;
    transform: translateY(4px);
}

/* Detail hero: target inner children */
.detail-hero.fx-text-hidden .detail-hero-inner > * {
    opacity: 0;
    transform: translateY(4px);
}

/* ---- Generic text reveal stagger ---- */
.fx-text-reveal > * {
    animation: card-text-in 0.28s ease-out forwards;
}

.fx-text-reveal > :nth-child(1) { animation-delay: 0s; }
.fx-text-reveal > :nth-child(2) { animation-delay: 0.05s; }
.fx-text-reveal > :nth-child(3) { animation-delay: 0.1s; }
.fx-text-reveal > :nth-child(4) { animation-delay: 0.15s; }
.fx-text-reveal > :nth-child(5) { animation-delay: 0.2s; }
.fx-text-reveal > :nth-child(6) { animation-delay: 0.25s; }
.fx-text-reveal > :nth-child(7) { animation-delay: 0.3s; }

/* Card-specific: stagger on inner children */
.course-card.fx-text-reveal .course-card-inner > * {
    animation: card-text-in 0.2s ease-out forwards;
}

.course-card.fx-text-reveal .course-card-inner > :nth-child(1) { animation-delay: 0s; }
.course-card.fx-text-reveal .course-card-inner > :nth-child(2) { animation-delay: 0.03s; }
.course-card.fx-text-reveal .course-card-inner > :nth-child(3) { animation-delay: 0.06s; }
.course-card.fx-text-reveal .course-card-inner > :nth-child(4) { animation-delay: 0.09s; }
.course-card.fx-text-reveal .course-card-inner > :nth-child(5) { animation-delay: 0.12s; }
.course-card.fx-text-reveal .course-card-inner > :nth-child(6) { animation-delay: 0.15s; }
.course-card.fx-text-reveal .course-card-inner > :nth-child(7) { animation-delay: 0.18s; }

/* Detail hero: stagger on inner children */
.detail-hero.fx-text-reveal .detail-hero-inner > * {
    animation: card-text-in 0.2s ease-out forwards;
}

.detail-hero.fx-text-reveal .detail-hero-inner > :nth-child(1) { animation-delay: 0s; }
.detail-hero.fx-text-reveal .detail-hero-inner > :nth-child(2) { animation-delay: 0.03s; }
.detail-hero.fx-text-reveal .detail-hero-inner > :nth-child(3) { animation-delay: 0.06s; }
.detail-hero.fx-text-reveal .detail-hero-inner > :nth-child(4) { animation-delay: 0.09s; }
.detail-hero.fx-text-reveal .detail-hero-inner > :nth-child(5) { animation-delay: 0.12s; }
.detail-hero.fx-text-reveal .detail-hero-inner > :nth-child(6) { animation-delay: 0.15s; }
.detail-hero.fx-text-reveal .detail-hero-inner > :nth-child(7) { animation-delay: 0.18s; }

@keyframes card-text-in {
    0%   { opacity: 0; transform: translateY(4px); filter: blur(3px); }
    50%  { filter: blur(0); }
    100% { opacity: 1; transform: translateY(0); filter: blur(0); }
}

/* ---- Glitch power-on ---- */
.fx-glitch {
    animation: card-glitch-in 0.5s ease-out both;
}

@keyframes card-glitch-in {
    0%   { opacity: 0; clip-path: inset(40% 0 40% 0); filter: invert(0.85) brightness(0.6); }
    15%  { opacity: 1; clip-path: inset(10% 0 80% 0); filter: invert(0.5) brightness(0.7); }
    25%  { clip-path: inset(70% 0 5% 0); filter: invert(0.3) brightness(0.8); }
    35%  { clip-path: inset(0 0 0 0); filter: invert(0.05) brightness(0.95); }
    45%  { clip-path: inset(25% 0 60% 0); filter: invert(0.2) brightness(0.85); }
    55%  { clip-path: inset(0 0 0 0); filter: brightness(0.97); }
    65%  { clip-path: inset(5% 0 90% 0); filter: invert(0.1) brightness(0.9); }
    72%  { clip-path: inset(0 0 0 0); filter: brightness(1); }
    100% { opacity: 1; clip-path: inset(0 0 0 0); filter: none; }
}

/* ---- TV turn-on effect ---- */
.fx-tv-on {
    animation: tv-turn-on 0.7s cubic-bezier(0.22, 0.61, 0.36, 1) both;
}

@keyframes tv-turn-on {
    0%   { opacity: 1; transform: scaleY(0.005) scaleX(0.98); filter: brightness(8) saturate(0); }
    20%  { transform: scaleY(0.005) scaleX(1); filter: brightness(10) saturate(0); }
    35%  { transform: scaleY(1.05) scaleX(1); filter: brightness(2.5) saturate(0.3); }
    50%  { transform: scaleY(0.98); filter: brightness(1.8) saturate(0.6); }
    65%  { transform: scaleY(1.02); filter: brightness(1.3) saturate(0.8); }
    80%  { transform: scaleY(1); filter: brightness(1.1) saturate(1); }
    100% { opacity: 1; transform: scaleY(1) scaleX(1); filter: brightness(1) saturate(1); }
}

